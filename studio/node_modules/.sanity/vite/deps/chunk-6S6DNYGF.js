import {
  require_fast_deep_equal
} from "./chunk-WGCVNZWJ.js";
import {
  PresentationDisplayedDocumentContext
} from "./chunk-O7WNDNL5.js";
import {
  require_dist
} from "./chunk-F2YLR35X.js";
import {
  require_jsx_runtime
} from "./chunk-I7BJ5GOC.js";
import {
  require_react
} from "./chunk-VTT67W3I.js";
import {
  __toESM
} from "./chunk-MJOZMRNF.js";

// node_modules/sanity/lib/_chunks-es/DisplayedDocumentBroadcaster.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react_compiler_runtime = __toESM(require_dist(), 1);
var import_fast_deep_equal = __toESM(require_fast_deep_equal(), 1);
var import_react = __toESM(require_react(), 1);
function DisplayedDocumentBroadcasterProvider(props) {
  const $ = (0, import_react_compiler_runtime.c)(9), {
    children,
    setDisplayedDocument,
    documentId
  } = props;
  let t0;
  $[0] !== setDisplayedDocument ? (t0 = (next) => setDisplayedDocument((prev) => (0, import_fast_deep_equal.default)(prev, next) ? prev : next), $[0] = setDisplayedDocument, $[1] = t0) : t0 = $[1];
  const context = t0;
  let t1, t2;
  $[2] !== documentId || $[3] !== setDisplayedDocument ? (t1 = () => {
    if (documentId)
      return;
    const timeout = setTimeout(() => setDisplayedDocument(null));
    return () => clearTimeout(timeout);
  }, t2 = [documentId, setDisplayedDocument], $[2] = documentId, $[3] = setDisplayedDocument, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), (0, import_react.useEffect)(t1, t2);
  let t3;
  return $[6] !== children || $[7] !== context ? (t3 = (0, import_jsx_runtime.jsx)(PresentationDisplayedDocumentContext.Provider, { value: context, children }), $[6] = children, $[7] = context, $[8] = t3) : t3 = $[8], t3;
}
function useDisplayedDocumentBroadcaster() {
  return (0, import_react.useContext)(PresentationDisplayedDocumentContext);
}

export {
  DisplayedDocumentBroadcasterProvider,
  useDisplayedDocumentBroadcaster
};
//# sourceMappingURL=chunk-6S6DNYGF.js.map

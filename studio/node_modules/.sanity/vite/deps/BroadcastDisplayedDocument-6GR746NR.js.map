{
  "version": 3,
  "sources": ["../../../sanity/src/presentation/loader/BroadcastDisplayedDocument.tsx"],
  "sourcesContent": ["import {memo, useEffect} from 'react'\nimport {type SanityDocument} from 'sanity'\n\nimport {usePresentationParams} from '../usePresentationParams'\nimport {useDisplayedDocumentBroadcaster} from './DisplayedDocumentBroadcaster'\n\n/**\n * Sanity Form input component that reads the current form state and broadcasts it to\n * the live query store\n */\nfunction BroadcastDisplayedDocument(props: {\n  value: Partial<SanityDocument> | null | undefined\n}): React.JSX.Element | null {\n  const setDisplayedDocument = useDisplayedDocumentBroadcaster()\n  const params = usePresentationParams(false)\n\n  useEffect(() => {\n    const timeout = setTimeout(() => setDisplayedDocument?.(props.value), 10)\n    return () => clearTimeout(timeout)\n  }, [params?.perspective, props.value, setDisplayedDocument])\n\n  return null\n}\n\nexport default memo(BroadcastDisplayedDocument)\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,SAAAA,2BAAAC,OAAA;AAAAC,QAAAA,QAAAC,iCAAA,CAAA,GAGEC,uBAA6BC,gCAAAA,GAC7BC,SAAeC,sBAAA,KAA2B;AAACC,MAAAA;AAAAN,IAAAA,CAAAA,MAAAD,MAAAQ,SAAAP,EAAAA,CAAAA,MAAAE,wBAEjCI,KAAAA,MAAA;AACR,UAAAE,UAAgBC,WAAiBP,MAAAA,6DAAuBH,MAAKQ,QAAA,EAAW;AAC3DG,WAAAA,MAAAA,aAAaF,OAAO;EAAA,GAClCR,EAAA,CAAA,IAAAD,MAAAQ,OAAAP,EAAAA,CAAAA,IAAAE,sBAAAF,EAAAA,CAAAA,IAAAM,MAAAA,KAAAN,EAAA,CAAA;AAAG,QAAAW,KAAAP,iCAAMQ;AAAaC,MAAAA;AAAAb,SAAAA,EAAA,CAAA,MAAAD,MAAAQ,SAAAP,EAAA,CAAA,MAAAE,wBAAAF,EAAA,CAAA,MAAAW,MAApBE,KAAAA,CAACF,IAAqBZ,MAAKQ,OAAQL,oBAAoB,GAACF,EAAA,CAAA,IAAAD,MAAAQ,OAAAP,EAAAA,CAAAA,IAAAE,sBAAAF,EAAAA,CAAAA,IAAAW,IAAAX,EAAAA,CAAAA,IAAAa,MAAAA,KAAAb,EAAA,CAAA,OAH3Dc,wBAAUR,IAGPO,EAAwD,GAAC;AAAA;AAK9D,IAAeE,mCAAAA,mBAAKjB,0BAA0B;",
  "names": ["BroadcastDisplayedDocument", "props", "$", "_c", "setDisplayedDocument", "useDisplayedDocumentBroadcaster", "params", "usePresentationParams", "t0", "value", "timeout", "setTimeout", "clearTimeout", "t1", "perspective", "t2", "useEffect", "memo"]
}
